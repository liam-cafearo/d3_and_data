<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drawing a Bar Chart</title>
    <script src="https://d3js.org/d3.v3.min.js"></script>
</head>
<body>
    <script>
        /* add more data points after mydata[5] to make graph wider
        rather than increasing the width */
        var myData = [ 10, 15, 20, 30, 45, 50, 40, 45, 50, 40 ];
        
        /* D3 supports method chaining (performing several actions 
        at once by chaining methods together). For readability
        it is best to put each method on a separate line.
        Even though the code will work without a variable being
        assigned to our selection, best practice is to assign our 
        selection to a variable so that we can simply call the variable
        when we want to access it later.  */
        var svg = d3.select("body")
                    .append("svg")
                    .attr("width",500)
                    .attr("height",300)
                    .attr("style", "background-color:#ddd"); /*added some style*/
        
        // Now we can draw rectangles for each data point and bind them to the data. 
        // SelectAll, selects all the rectangles created later in the chain (line 38)
        svg.selectAll("rect")
            // pass in the myData Variable, each data point in the array
            // runs the below code for each data item.
            .data(myData)
            // enter() creates a space for each data item
            .enter()
            // line 38 states that for each data item in the array append
            // a rectangle
            .append("rect")
            /* lines 38-41 sets the attributes for each of the rectangles.
            Ask it to move the x position by a pixel more than the width (30 + 1) */
            .attr("x", function(d,i){return i * (30 + 1);}) /* multiply the index by the width */
            /* subtract svg height from the data item to flip the chart.
            To return a more approriate size we will have to multiply "d"
            by 5 as we did with the height below. */
            .attr("y", function(d){return 300 - d * 5;})
            .attr("width", 30) /* width changed from 100 as its too big */
            // .attr("height", 200); /* should be equal to data */
            /*we want the height to be eqaul to the data so its written 
            like the below using and anonymous function (a function without a
            name*/
            .attr("height", function(d){return d * 5}) /* multiple by 5 to give the chart better height */
            // Add colour using the "fill" property.
            .attr("fill", "#30C5C7"); /* semicolon goes at the end */
    </script>

</body>
</html>